language: python

python:
  - "2.7.13"
cache: pip
# command to install dependencies
install:
  - pip install -r requirements.txt
  - pip install coveralls
  - pip install nose
  - pip install coverage

before_script:
  - sudo -u postgres createdb jamaica
  - sudo -u postgres createdb test_database

# command to run the tests
script:
  - nosetests --with-coverage

after_script:
  - psql -U postgres
  - travis_wait dropdb jamaica
  - travis_wait dropdb testing_database

after_success:
  - coveralls
